<article
  class="relative overflow-hidden rounded-2xl border border-border bg-card shadow-sm dark:shadow-black/20"
>
  @if (showStatus && status) {
    <span
      class="absolute right-3 top-3 z-10 rounded-full px-3 py-1 text-xs font-medium backdrop-blur bg-black/40 text-white ring-1"
      [class.ring-emerald-400/40]="status === 'published'"
      [class.ring-amber-400/40]="status === 'draft'"
    >
      {{ status === 'published' ? 'Publicado' : 'Borrador' }}
    </span>
  }

  @if (coverUrl) {
    <img [src]="coverUrl" alt="" class="h-44 w-full object-cover" />
  } @else {
    <div class="h-44 w-full bg-muted"></div>
  }

  <div class="p-5 space-y-3">
    <div class="space-y-1">
      <a [routerLink]="['/posts', id]" class="block">
        <h3 class="text-lg font-semibold text-foreground hover:underline">
          {{ title }}
        </h3>
      </a>

      <p class="text-sm text-muted-foreground line-clamp-2">
        {{ excerpt || 'Sin resumen' }}
      </p>
    </div>

    @if (tags.length) {
      <div class="flex flex-wrap gap-2">
        @for (t of tags.slice(0, 6); track t) {
          <span class="rounded-full bg-accent px-3 py-1 text-xs text-accent-foreground">
            #{{ t }}
          </span>
        }
      </div>
    }

    <div class="flex items-center justify-between text-xs text-muted-foreground">
      <span>{{ authorName ? 'Por ' + authorName : 'â€”' }}</span>
      @if (createdAt) {
        <span>{{ formatAR(createdAt) }}</span>
      }
    </div>
  </div>
</article>
