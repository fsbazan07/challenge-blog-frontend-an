<div class="min-h-[calc(100vh-64px)] px-4 py-8">
  <div class="mx-auto w-full max-w-6xl space-y-6">
    <header class="flex flex-col gap-2">
      <h1 class="text-2xl font-semibold text-foreground">
        {{ vm.mode === 'edit' ? 'Editar post' : 'Crear post' }}
      </h1>

      <p class="text-sm text-muted-foreground">
        Escribí tu idea, guardala como borrador o publicala cuando esté lista.
      </p>
    </header>

    @if (vm.isLoading) {
      <div class="flex justify-center py-6">
        <app-dots-loader />
      </div>
    }

    <div class="grid gap-6 lg:grid-cols-2">
      <app-post-form
        [vm]="vm"
        (titleChange)="setTitle($event)"
        (excerptChange)="setExcerpt($event)"
        (contentChange)="setContent($event)"
        (tagsInputChange)="setTagsInput($event)"
        (removeTag)="removeTag($event)"
        (coverFromInput)="setCoverFromInput($event)"
        (clearCover)="clearCover()"
        (coverDrop)="onCoverDrop($event)"
        (coverDragOver)="onCoverDragOver($event)"
        (coverDragEnter)="onCoverDragEnter($event)"
        (coverDragLeave)="onCoverDragLeave($event)"
        (saveDraft)="saveDraft()"
        (publish)="publish()"
        (update)="update()"
      />

      <app-post-preview [vm]="vm" />
    </div>
  </div>
</div>
